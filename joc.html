<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />

    <link href="css/style.css" rel="stylesheet" />
</head>
<body>
    <div id="menu" class="container">
        <div id="map" ></div>
        <div class="form-group">
            <button class="btn btn-default" id="btn">Cabra a la fuga!!!</button> 
        </div>
    </div>

    <div id="mapa" class="bug-0"></div>
    <dic class="cabra">
        <img src="imgs/cabra.png"/>
    </dic>


    <script src="js/jquery-3.1.1.min.js"></script>
    <script src="js/jquery.robocop.js"></script>
    <script>
        $(document).ready(function () {
            var dim = 17;

            $('#mapa').paint25D(dim);
            $('#mapa').hide();
            $('.cabra').hide();

            $('#map').paint({ rows: dim, cols: dim });
            $('.celda').click(function () {
                var $self = $(this);
                if ($self.hasClass('verde')) {
                    $self.removeClass('verde').addClass('blanco');
                    var p = $self.getClass();
                    $('#mapa').putRock(p.col, p.row);
                } else if ($self.hasClass('blanco')) {
                    $self.addClass('verde').removeClass('blanco');
                    var p = $self.getClass();
                    $('#mapa').putRock(p.col, p.row);
                }
                
            });

            $('#btn').click(function () {
                $('#menu').hide();
                $('#mapa').show();
                $('.cabra').show();
                setTimeout(function () { }, 1000);
                var pos = $('.col-' + Math.floor(dim / 2) + '.row-' + Math.floor(dim / 2) + '.tierra').position()
                $('#mapa').positionIn(0, 0, pos);
                setTimeout(function () { }, 1000);
                setInterval(function () {
                    $('#mapa').moveNext();
                    console.log('next');
                }, 700);
            });



            //$('#mapa').putRock(0, 0);
            //$('#mapa').putRock(0, 2);

            setTimeout(function () { }, 1000);

            
            
            setTimeout(null, 1000);

            //$(document).keydown(function (ev) {
            //    if (ev.key == 'n') {
            //        $('#mapa').moveNext();
            //    }
            //})

            setTimeout(function () { }, 1000);

            //setInterval(function () {
            //    $('#mapa').moveNext();
            //    console.log('next');
            //}, 700);
        });
    </script>
</body>
</html>
